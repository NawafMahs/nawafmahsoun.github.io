let e={pageLoadTime:0,resourcesLoaded:0,memoryUsage:0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0};function t(){if("undefined"!=typeof window){window.addEventListener("load",()=>{const t=performance.getEntriesByType("navigation")[0];e.pageLoadTime=t.loadEventEnd-t.fetchStart});try{new PerformanceObserver(t=>{for(const r of t.getEntries())"largest-contentful-paint"===r.entryType&&(e.largestContentfulPaint=r.startTime)}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(t=>{for(const r of t.getEntries())e.firstInputDelay=r.processingStart-r.startTime}).observe({entryTypes:["first-input"]});let t=0;new PerformanceObserver(r=>{for(const e of r.getEntries())e.hadRecentInput||(t+=e.value);e.cumulativeLayoutShift=t}).observe({entryTypes:["layout-shift"]})}catch(t){}performance.memory&&setInterval(()=>{e.memoryUsage=performance.memory.usedJSHeapSize/1024/1024},5e3),new PerformanceObserver(t=>{for(const r of t.getEntries())"resource"===r.entryType&&e.resourcesLoaded++}).observe({entryTypes:["resource"]}),setTimeout(()=>{},3e3)}}export{t as initPerformanceMonitoring};
