import{j as e}from"./jsx-runtime-i88aexF6.js";import{r as t}from"./vendor-react-vendor-C-CbGDQp.js";import{c as a}from"./heading-BdKyha8q.js";import{u as n,a as r}from"./vendor-animation-vendor-CcTNfguF.js";import{V as s}from"./visually-hidden-C2IlVvQv.js";const o={text:"_text_1v07c_2",glyph:"_glyph_1v07c_9",value:"_value_1v07c_16"},u=["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ー","ラ","リ","ル","レ","ロ","ワ","ヰ","ヱ","ヲ","ン","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ヂ","ヅ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ"],c="glyph",l="value",i=t.memo(({text:i,start:m=!0,delay:p=0,className:v,...f})=>{const d=t.useRef([{type:c,value:""}]),h=t.useRef(),y=n(),j=r(0,{stiffness:8,damping:5});return t.useEffect(()=>{const e=h.current,t=i.split(""),a=()=>{const t=d.current.map(e=>`<span class="${o[e.type]}">${e.value}</span>`);e.innerHTML=t.join("")},n=j.on("change",e=>{d.current=function(e,t,a){return e.map((e,n)=>{if(n<a)return{type:l,value:e};if(a%1<.5){const e=Math.floor(Math.random()*u.length);return{type:c,value:u[e]}}return{type:c,value:t[n].value}})}(t,d.current,e),a()});return m&&!y&&(async()=>{await async function(e){return new Promise(t=>setTimeout(t,e))}(p),j.set(t.length)})(),y&&(d.current=t.map((e,a)=>({type:l,value:t[a]})),a()),()=>{n?.()}},[j,y,m,p,i]),e.jsxs("span",{className:a(o.text,v),...f,children:[e.jsx(s,{className:o.label,children:i}),e.jsx("span",{"aria-hidden":!0,className:o.content,ref:h})]})});export{i as D};
