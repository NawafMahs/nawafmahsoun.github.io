import{r as e}from"./vendor-react-vendor-C-CbGDQp.js";const n={},s=(e,s,t,a)=>{o(t)&&n[t]||(o(t)&&(n[t]=new Date),((e,n,s,t)=>{const a=[s,{code:n,...t||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);o(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console})(e,s,t,a))},t=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},a=(e,n,s)=>{e.loadNamespaces(n,t(e,s))},r=(e,n,s,r)=>{if(o(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return a(e,s,r);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(n,t(e,r))},o=e=>"string"==typeof e,i=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,c={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},l=e=>c[e];let u={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(i,l)};const g=e.createContext();class d{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const p=(e,n,s,t)=>e.getFixedT(n,s,t),f=(n,t={})=>{const{i18n:i}=t,{i18n:c,defaultNS:l}=e.useContext(g)||{},f=i||c||void 0;if(f&&!f.reportNamespaces&&(f.reportNamespaces=new d),!f){s(f,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>{return o(n)?n:"object"==typeof(s=n)&&null!==s&&o(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e;var s},n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}f.options.react?.wait&&s(f,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const m={...u,...f.options.react,...t},{useSuspense:N,keyPrefix:h}=m;let b=l||f.options?.defaultNS;b=o(b)?[b]:b||["translation"],f.reportNamespaces.addUsedNamespaces?.(b);const y=(f.isInitialized||f.initializedStoreOnce)&&b.every(e=>((e,n,t={})=>n.languages&&n.languages.length?n.hasLoadedNamespace(e,{lng:t.lng,precheck:(n,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,e))return!1}}):(s(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0))(e,f,m)),x=((n,s,t,a)=>e.useCallback(p(n,s,t,a),[n,s,t,a]))(f,t.lng||null,"fallback"===m.nsMode?b:b[0],h),w=()=>x,E=()=>p(f,t.lng||null,"fallback"===m.nsMode?b:b[0],h),[I,v]=e.useState(w);let S=b.join();t.lng&&(S=`${t.lng}${S}`);const T=(n=>{const s=e.useRef();return e.useEffect(()=>{s.current=n},[n,void 0]),s.current})(S),C=e.useRef(!0);e.useEffect(()=>{const{bindI18n:e,bindI18nStore:n}=m;C.current=!0,y||N||(t.lng?r(f,t.lng,b,()=>{C.current&&v(E)}):a(f,b,()=>{C.current&&v(E)})),y&&T&&T!==S&&C.current&&v(E);const s=()=>{C.current&&v(E)};return e&&f?.on(e,s),n&&f?.store.on(n,s),()=>{C.current=!1,f&&e&&e?.split(" ").forEach(e=>f.off(e,s)),n&&f&&n.split(" ").forEach(e=>f.store.off(e,s))}},[f,S]),e.useEffect(()=>{C.current&&y&&v(w)},[f,h,y]);const O=[I,f,y];if(O.t=I,O.i18n=f,O.ready=y,y)return O;if(!y&&!N)return O;throw new Promise(e=>{t.lng?r(f,t.lng,b,()=>e()):a(f,b,()=>e())})};export{f as u};
